
-------------------------

# OPEN DIGITAL OCEN DROPLET

# GET UPDATES
    $ sudo apt-get update

# UPGRADE PACKAGES
    $ sudo apt-get update

# INSTALL DOCKER
    $ snap install docker

# INSTALL DOCTL
    to be able to enable firewall settings
    $ snap install doctl

-------------------------

# PREPARE FIREWALL AND DOCTL FOLDER
    this step is required to enable authentication for doctl
    $ mkdir ~/.config
    $ export XDG_CONFIG_HOME=~/.config

# CONNECT DIGITAL OCEAN ACCOUNT
    $ doctl auth init
    it will ask token about digital ocean api and give link to create that token.
    create token with write access
    give it to console (may require refresh)

# ADD FIREWALL RULE
    display rules
    $ doctl compute firewall list

    add rule
    $ doctl compute firewall create --name portEighty --inbound-rules "protocol:tcp,ports:80,address:0.0.0.0/0"
    $ doctl compute firewall create --name portEightyEightyOne --inbound-rules "protocol:tcp,ports:8081,address:0.0.0.0/0"

-------------------------

# CLONE CODE
    $ git clone https://github.com/ahmettoguz/Dockerized_Php_MySql.git

# CHANGE CWD
    $ cd ./Dockerized_Php_MySql/Dynamic_Php_MySql_DigitalOcean
    
# BUILD & RUN IMAGE
    $ docker compose up --build -d

# GET IP 
    first one is the ipv4:
    $ hostname -I

# OPEN IN BROWSER
    <ip>:80
    <ip>:8081 -> root - toor

--------------------------

# STOP AND DELETE CONTAINER
    $ docker compose down

# DELETE IMAGE
    $ docker rmi static-php-image
